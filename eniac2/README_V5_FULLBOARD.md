
# ENIAC Demo — V5 Fullboard (설명서)

이 데모는 pygame으로 만든 **간소화된 ENIAC 시뮬레이터**입니다.  
실제 ENIAC의 배선 방식(플러그보드), 펄스 타이밍(1P–10P, CCG, RP), 어큐뮬레이터의 자리수 가산/감산 및
곱셈에서의 반복가산을 **시각적으로** 따라갈 수 있도록 구성했습니다.

## 구성요소

### 1) 카드 리더 / CT
- CT1=1, CT2=2, CT3=3을 출력합니다.  
- `LOAD` 단계에서 A1, A2, A3에 각각 값이 로드됩니다.

### 2) Accumulators (20)
- 화면 상단 중간에 2줄×10개로 **A1..A20**가 압축 표시됩니다.
- 각 패널에는
  - 이름 (A#)
  - 현재 값(부호 포함, 10자리)
  - **링 카운터 램프 10개**(0~9)가 표시됩니다.
- 실제 ENIAC처럼 전체 시스템의 **링 펄스(1P..10P)**가 모든 어큐뮬레이터에 배포되며,
  하단 타이밍 커서를 반영해 각 미니패널의 램프가 순차적으로 점등됩니다.

### 3) Plugboard & Ports
- 포트는 **α(수신)**, **A(양수 출력)**, **S(10의 보수 출력=감산)**, **AS(동시 출력)**, **β(리셋)**, **γ(부호 반전)**을 갖습니다.
- 각 포트 아래에는 라벨을 붙였습니다.
- 데이터선은 회색, **데이터 펄스**는 파란 점, **제어 펄스(CCG/RP)**는 주황 점으로 애니메이션됩니다.

### 4) Timing (파형)
- 하단의 타이밍 패널에는 **CPP, 10P…1P, CCG, RP** 라인이 보입니다.
- 빨간 수직선은 현재 링 위치(0~9)를 나타냅니다.
- **CCG**: add-time의 게이트 오픈(가산 유닛 동작 허용).  
- **RP**: add-time 종료 시 리셋 펄스(상태 클리어/다음 스텝 준비).

## 동작 시나리오 (1 + 2×3 후 −2)

1. **LOAD**  
   - CT1→A1, CT2→A2, CT3→A3.  
   - CCG가 열리며 값이 로드됩니다.

2. **MULTIPLY**  (A2×A3 → A4)  
   - 멀티플라이어는 승수 A3의 각 자리를 LSD→MSD로 읽어
     해당 자리값(`0..9`) 만큼 A2를 반복 가산합니다(자릿수만큼 shift).  
   - 각 **반복 가산**은 **1 add-time(10펄스)** 가 소요되고,
     자리별 덧셈/캐리 전파가 표시됩니다.  
   - 완료 후 RP 펄스.

3. **ADD**  (A1 + A4 → A5)  
   - A5가 A1을 더한 다음 같은 add-time 후반에 A4도 더합니다(시각화 목적).

4. **SUBTRACT**  (A5 − A2 → A7)  
   - `S` 경로를 사용해 10의 보수로 감산합니다.  
   - 실제 연산에 **S 포트**가 참여하며 자리별 **보로우 전파**가 점등됩니다.

5. **PUNCH**  
   - 결과 A7를 카드 펀치 입력으로 보내며 시각적으로 표시합니다.

> 실제 ENIAC은 더 복잡한 동기·제어망과 유닛(DF, SF 등)이 있으나, 이 데모는
> **학습을 위한 시각적 최소모형**입니다. 원하시면 디바이더/제곱근, 프리세터, 콘솔 유닛도 추가해 드릴 수 있습니다.

## 조작법
- **ENTER**: 한 자리 펄스(STEP)  
- **SPACE**: RUN/PAUSE  
- **R**: 리셋  
- **+/-**: 속도 조절  
- **ESC**: 종료

## 시각 요소 설명
- **링 배포선**: 타이밍 패널 위의 초록 원(분배기)에서 20개 어큐뮬레이터의 링 램프로 퍼져나가는 선.  
  현재 커서 위치 비율로 선 위의 점이 이동하며, 모든 유닛에 같은 링이 분배되는 느낌을 줍니다.
- **캐리/보로우 점등**: 자리 간 경계 근처 빨간 점이 잠시 켜지며 전달을 표현합니다.  
- **플러그보드 라벨**: 포트 아래에 α/A/S/AS/β/γ 를 표시하고, 활성시 포트가 밝게 빛납니다.

## 파일 구조
- `eniac_demo_v5_fullboard.py` : 실행 파일
- `README_V5_FULLBOARD.md` : 본 설명서

## 향후 확장 아이디어
- 진짜 ENIAC 매뉴얼의 세부 타이밍(9개의 프로그램 펄스 라인, 이니시에이터 단계) 반영
- Divider/Square Root 유닛 추가, Conditional Transfer 시각화
- 플러그보드 편집기(마우스 드래그로 케이블 연결/해제, 구성 저장/로드)
- 대형 회로도 모드(실물 패널 배치 비율로 확대/스크롤)

즐겁게 탐험하세요!
